set(SPIRV_TARGET_V 6_8)

set(COMMON_OPTIONS
	-I "${COMMON_INCLUDE_DIRECTORY}"
)

NBL_REGISTER_SPIRV_SHADERS(
	MOUNT_POINT_DEFINE
		NBL_EXAMPLES_BUILD_SPIRV_MOUNT_POINT

    ARCHIVE
        TARGET NblExtExamplesAPIBuiltinsSPIRV
        INPUT_DIRECTORY .
        NAMESPACE nbl::builtin::examples::build::spirv

	INPUTS
		KEY shaders/geometry/unified.hlsl COMPILE_OPTIONS ${COMMON_OPTIONS} -T lib_${SPIRV_TARGET_V}
		# KEY <xyz> COMPILE_OPTIONS ${COMMON_OPTIONS} -T <target>_${SPIRV_TARGET_V}
)

if(NBL_EMBED_BUILTIN_RESOURCES)
	INTERFACE_TO_BUILTINS(NblExtExamplesAPIBuiltinsSPIRV)
endif()